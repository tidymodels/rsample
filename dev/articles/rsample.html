<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to rsample • rsample</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to rsample">
<meta name="robots" content="noindex">
<script defer data-domain="rsample.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rsample</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/rsample.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Common_Patterns.html">Common Resampling Patterns</a></li>
    <li><a class="dropdown-item" href="../articles/Applications/Intervals.html">Bootstrap confidence intervals</a></li>
    <li><a class="dropdown-item" href="../articles/Applications/Recipes_and_rsample.html">Recipes with rsample</a></li>
    <li><a class="dropdown-item" href="../articles/Working_with_rsets.html">Working with resampling sets</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-learn-more" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Learn more</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-learn-more">
<li><a class="external-link dropdown-item" href="https://spatialsample.tidymodels.org/">Spatial resampling</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/work/nested-resampling/">Nested resampling</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/models/time-series/">Time series analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidymodels/rsample/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to rsample</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/rsample/blob/main/vignettes/rsample.Rmd" class="external-link"><code>vignettes/rsample.Rmd</code></a></small>
      <div class="d-none name"><code>rsample.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h2>
<p>We define a <em>resample</em> as the result of a two-way split of a
data set. For example, when bootstrapping, one part of the resample is a
sample with replacement of the original data. The other part of the
split contains the instances that were not contained in the bootstrap
sample. Cross-validation is another type of resampling.</p>
</div>
<div class="section level2">
<h2 id="rset-objects-contain-many-resamples">
<code>rset</code> Objects Contain Many Resamples<a class="anchor" aria-label="anchor" href="#rset-objects-contain-many-resamples"></a>
</h2>
<p>The main class in the package (<code>rset</code>) is for a
<em>set</em> or <em>collection</em> of resamples. In 10-fold
cross-validation, the set would consist of the 10 different resamples of
the original data.</p>
<p>Like <a href="https://cran.r-project.org/package=modelr" class="external-link">modelr</a>,
the resamples are stored in data-frame-like <code>tibble</code> object.
As a simple example, here is a small set of bootstraps of the
<code>mtcars</code> data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsample.tidymodels.org">rsample</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">8584</span><span class="op">)</span></span>
<span><span class="va">bt_resamples</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bootstraps.html">bootstraps</a></span><span class="op">(</span><span class="va">mtcars</span>, times <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">bt_resamples</span></span>
<span><span class="co">#&gt; # Bootstrap sampling </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   splits          id        </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [32/14]&gt;</span> Bootstrap1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [32/12]&gt;</span> Bootstrap2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [32/14]&gt;</span> Bootstrap3</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="individual-resamples-are-rsplit-objects">Individual Resamples are <code>rsplit</code> Objects<a class="anchor" aria-label="anchor" href="#individual-resamples-are-rsplit-objects"></a>
</h2>
<p>The resamples are stored in the <code>splits</code> column in an
object that has class <code>rsplit</code>.</p>
<p>In this package we use the following terminology for the two
partitions that comprise a resample:</p>
<ul>
<li>The <em>analysis</em> data are those that we selected in the
resample. For a bootstrap, this is the sample with replacement. For
10-fold cross-validation, this is the 90% of the data. These data are
often used to fit a model or calculate a statistic in traditional
bootstrapping.</li>
<li>The <em>assessment</em> data are usually the section of the original
data not covered by the analysis set. Again, in 10-fold CV, this is the
10% held out. These data are often used to evaluate the performance of a
model that was fit to the analysis data.</li>
</ul>
<p>(Aside: While some might use the term “training” and “testing” for
these data sets, we avoid them since those labels often conflict with
the data that result from an initial partition of the data that is
typically done <em>before</em> resampling. The training/test split can
be conducted using the <code><a href="../reference/initial_split.html">initial_split()</a></code> function in this
package.)</p>
<p>Let’s look at one of the <code>rsplit</code> objects</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">first_resample</span> <span class="op">&lt;-</span> <span class="va">bt_resamples</span><span class="op">$</span><span class="va">splits</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">first_resample</span></span>
<span><span class="co">#&gt; &lt;Analysis/Assess/Total&gt;</span></span>
<span><span class="co">#&gt; &lt;32/14/32&gt;</span></span></code></pre></div>
<p>This indicates that there were 32 data points in the analysis set, 14
instances were in the assessment set, and that the original data
contained 32 data points. These results can also be determined using the
<code>dim</code> function on an <code>rsplit</code> object.</p>
<p>To obtain either of these data sets from an <code>rsplit</code>, the
<code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> function can be used. By default, the
analysis set is returned but the <code>data</code> option can be used to
return the assessment data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">first_resample</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                     mpg cyl  disp  hp drat   wt qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Fiat 128...1       32.4   4  78.7  66 4.08 2.20 19.5  1  1    4    1</span></span>
<span><span class="co">#&gt; Toyota Corolla...2 33.9   4  71.1  65 4.22 1.83 19.9  1  1    4    1</span></span>
<span><span class="co">#&gt; Toyota Corolla...3 33.9   4  71.1  65 4.22 1.83 19.9  1  1    4    1</span></span>
<span><span class="co">#&gt; AMC Javelin...4    15.2   8 304.0 150 3.15 3.44 17.3  0  0    3    2</span></span>
<span><span class="co">#&gt; Valiant...5        18.1   6 225.0 105 2.76 3.46 20.2  1  0    3    1</span></span>
<span><span class="co">#&gt; Merc 450SLC...6    15.2   8 275.8 180 3.07 3.78 18.0  0  0    3    3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">first_resample</span>, data <span class="op">=</span> <span class="st">"assessment"</span><span class="op">)</span></span>
<span><span class="co">#&gt;                     mpg cyl  disp  hp drat   wt qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag      21.0   6 160.0 110 3.90 2.88 17.0  0  1    4    4</span></span>
<span><span class="co">#&gt; Hornet 4 Drive     21.4   6 258.0 110 3.08 3.21 19.4  1  0    3    1</span></span>
<span><span class="co">#&gt; Merc 240D          24.4   4 146.7  62 3.69 3.19 20.0  1  0    4    2</span></span>
<span><span class="co">#&gt; Merc 230           22.8   4 140.8  95 3.92 3.15 22.9  1  0    4    2</span></span>
<span><span class="co">#&gt; Merc 280           19.2   6 167.6 123 3.92 3.44 18.3  1  0    4    4</span></span>
<span><span class="co">#&gt; Merc 280C          17.8   6 167.6 123 3.92 3.44 18.9  1  0    4    4</span></span>
<span><span class="co">#&gt; Merc 450SE         16.4   8 275.8 180 3.07 4.07 17.4  0  0    3    3</span></span>
<span><span class="co">#&gt; Merc 450SL         17.3   8 275.8 180 3.07 3.73 17.6  0  0    3    3</span></span>
<span><span class="co">#&gt; Cadillac Fleetwood 10.4   8 472.0 205 2.93 5.25 18.0  0  0    3    4</span></span>
<span><span class="co">#&gt; Chrysler Imperial  14.7   8 440.0 230 3.23 5.34 17.4  0  0    3    4</span></span>
<span><span class="co">#&gt; Honda Civic        30.4   4  75.7  52 4.93 1.61 18.5  1  1    4    2</span></span>
<span><span class="co">#&gt; Fiat X1-9          27.3   4  79.0  66 4.08 1.94 18.9  1  1    4    1</span></span>
<span><span class="co">#&gt; Lotus Europa       30.4   4  95.1 113 3.77 1.51 16.9  1  1    5    2</span></span>
<span><span class="co">#&gt; Volvo 142E         21.4   4 121.0 109 4.11 2.78 18.6  1  1    4    2</span></span></code></pre></div>
<p>Alternatively, you can use the shortcuts
<code>analysis(first_resample)</code> and
<code>assessment(first_resample)</code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://frick.ws" class="external-link">Hannah Frick</a>, Fanny Chow, <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, Michael Mahoney, <a href="https://juliasilge.com/" class="external-link">Julia Silge</a>, <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer>
</body>
</html>
