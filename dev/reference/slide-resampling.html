<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Time-based Resampling — slide-resampling • rsample</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../tidymodels.css" rel="stylesheet">




<meta property="og:title" content="Time-based Resampling — slide-resampling" />
<meta property="og:description" content="These resampling functions are focused on various forms of time series
resampling.
sliding_window() uses the row number when computing the resampling
indices. It is independent of any time index, but is useful with
completely regular series.
sliding_index() computes resampling indices relative to the index
column. This is often a Date or POSIXct column, but doesn't have to be.
This is useful when resampling irregular series, or for using irregular
lookback periods such as lookback = lubridate::years(1) with daily
data (where the number of days in a year may vary).
sliding_period() first breaks up the index into less granular groups
based on period, and then uses that to construct the resampling indices.
This is extremely useful for constructing rolling monthly or yearly
windows from daily data.

" />
<meta property="og:image" content="https://rsample.tidymodels.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">rsample</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.0.9.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/rsample.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Working_with_rsets.html">Working with Resample Sets</a>
    </li>
    <li>
      <a href="../articles/Applications/Recipes_and_rsample.html">Recipes and rsample</a>
    </li>
    <li>
      <a href="../articles/Applications/Survival_Analysis.html">Survival Analysis</a>
    </li>
    <li>
      <a href="../articles/Applications/Intervals.html">Bootstrap Interval Estimation</a>
    </li>
    <li>
      <a href="https://www.tidymodels.org/learn/models/time-series/">Time Series Analysis</a>
    </li>
    <li>
      <a href="https://www.tidymodels.org/learn/work/nested-resampling/">Nested Resampling</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/rsample/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Time-based Resampling</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidymodels/rsample/blob/master/R/slide.R'><code>R/slide.R</code></a></small>
    <div class="hidden name"><code>slide-resampling.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These resampling functions are focused on various forms of <em>time series</em>
resampling.</p><ul>
<li><p><code>sliding_window()</code> uses the row number when computing the resampling
indices. It is independent of any time index, but is useful with
completely regular series.</p></li>
<li><p><code>sliding_index()</code> computes resampling indices relative to the <code>index</code>
column. This is often a Date or POSIXct column, but doesn't have to be.
This is useful when resampling irregular series, or for using irregular
lookback periods such as <code>lookback = lubridate::years(1)</code> with daily
data (where the number of days in a year may vary).</p></li>
<li><p><code>sliding_period()</code> first breaks up the <code>index</code> into less granular groups
based on <code>period</code>, and then uses that to construct the resampling indices.
This is extremely useful for constructing rolling monthly or yearly
windows from daily data.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>sliding_window</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>...</span>,
  lookback <span class='op'>=</span> <span class='fl'>0L</span>,
  assess_start <span class='op'>=</span> <span class='fl'>1L</span>,
  assess_stop <span class='op'>=</span> <span class='fl'>1L</span>,
  complete <span class='op'>=</span> <span class='cn'>TRUE</span>,
  step <span class='op'>=</span> <span class='fl'>1L</span>,
  skip <span class='op'>=</span> <span class='fl'>0L</span>
<span class='op'>)</span>

<span class='fu'>sliding_index</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>index</span>,
  <span class='va'>...</span>,
  lookback <span class='op'>=</span> <span class='fl'>0L</span>,
  assess_start <span class='op'>=</span> <span class='fl'>1L</span>,
  assess_stop <span class='op'>=</span> <span class='fl'>1L</span>,
  complete <span class='op'>=</span> <span class='cn'>TRUE</span>,
  step <span class='op'>=</span> <span class='fl'>1L</span>,
  skip <span class='op'>=</span> <span class='fl'>0L</span>
<span class='op'>)</span>

<span class='fu'>sliding_period</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>index</span>,
  <span class='va'>period</span>,
  <span class='va'>...</span>,
  lookback <span class='op'>=</span> <span class='fl'>0L</span>,
  assess_start <span class='op'>=</span> <span class='fl'>1L</span>,
  assess_stop <span class='op'>=</span> <span class='fl'>1L</span>,
  complete <span class='op'>=</span> <span class='cn'>TRUE</span>,
  step <span class='op'>=</span> <span class='fl'>1L</span>,
  skip <span class='op'>=</span> <span class='fl'>0L</span>,
  every <span class='op'>=</span> <span class='fl'>1L</span>,
  origin <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>These dots are for future extensions and must be empty.</p></td>
    </tr>
    <tr>
      <th>lookback</th>
      <td><p>The number of elements to look back from the current element
when computing the resampling indices of the analysis set. The current
row is always included in the analysis set.</p><ul>
<li><p>For <code>sliding_window()</code>, a single integer defining the number of rows to
look back from the current row.</p></li>
<li><p>For <code>sliding_index()</code>, a single object that will be subtracted from the
<code>index</code> as <code>index - lookback</code> to define the boundary of where to start
searching for rows to include in the current resample. This is often
an integer value corresponding to the number of days to look back,
or a lubridate Period object.</p></li>
<li><p>For <code>sliding_period()</code>, a single integer defining the number of groups
to look back from the current group, where the groups were defined from
breaking up the <code>index</code> according to the <code>period</code>.</p></li>
</ul>

<p>In all cases, <code>Inf</code> is also allowed to force an expanding window.</p></td>
    </tr>
    <tr>
      <th>assess_start, assess_stop</th>
      <td><p>This combination of arguments determines
how far into the future to look when constructing the assessment set.
Together they construct a range of
<code>[index + assess_start, index + assess_stop]</code> to search for rows to include
in the assessment set.</p>
<p>Generally, <code>assess_start</code> will always be <code>1</code> to indicate that the first
value to potentially include in the assessment set should start one element
after the current row, but it can be increased to a larger value to
create "gaps" between the analysis and assessment set if you are worried
about high levels of correlation in short term forecasting.</p><ul>
<li><p>For <code>sliding_window()</code>, these are both single integers defining the
number of rows to look forward from the current row.</p></li>
<li><p>For <code>sliding_index()</code>, these are single objects that will be added
to the <code>index</code> to compute the range to search for rows to include
in the assessment set. This is often an integer value corresponding to
the number of days to look forward, or a lubridate Period object.</p></li>
<li><p>For <code>sliding_period()</code>, these are both single integers defining the
number of groups to look forward from the current group, where the groups
were defined from breaking up the <code>index</code> according to the <code>period</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>complete</th>
      <td><p>A single logical. When using <code>lookback</code> to compute the
analysis sets, should only complete windows be considered? If set to
<code>FALSE</code>, partial windows will be used until it is possible to create
a complete window (based on <code>lookback</code>). This is a way to use an
expanding window up to a certain point, and then switch to a sliding
window.</p></td>
    </tr>
    <tr>
      <th>step</th>
      <td><p>A single positive integer. After computing the resampling
indices, <code>step</code> is used to thin out the results by selecting every
<code>step</code>-th result by subsetting the indices with
<code><a href='https://rdrr.io/r/base/seq.html'>seq(1L, n_indices, by = step)</a></code>. <code>step</code> is applied after <code>skip</code>.
Note that <code>step</code> is independent of any time <code>index</code> used.</p></td>
    </tr>
    <tr>
      <th>skip</th>
      <td><p>A single positive integer, or zero. After computing the
resampling indices, the first <code>skip</code> results will be dropped by subsetting
the indices with <code><a href='https://rdrr.io/r/base/seq.html'>seq(skip + 1L, n_indices)</a></code>. This can be especially
useful when combined with <code>lookback = Inf</code>, which creates an expanding
window starting from the first row. By skipping forward, you can drop
the first few windows that have very few data points. <code>skip</code> is
applied before <code>step</code>. Note that <code>skip</code> is independent of any time
<code>index</code> used.</p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>The index to compute resampling indices relative to, specified
as a bare column name. This must be an existing column in <code>data</code>.</p><ul>
<li><p>For <code>sliding_index()</code>, this is commonly a date vector, but is not
required.</p></li>
<li><p>For <code>sliding_period()</code>, it is required that this is a Date or POSIXct
vector.</p></li>
</ul>

<p>The <code>index</code> must be an <em>increasing</em> vector, but duplicate values are
allowed. Additionally, the index cannot contain any missing values.</p></td>
    </tr>
    <tr>
      <th>period</th>
      <td><p>The period to group the <code>index</code> by. This is specified as a
single string, such as <code>"year"</code> or <code>"month"</code>. See the <code>.period</code> argument
of <code><a href='https://rdrr.io/pkg/slider/man/slide_index.html'>slider::slide_index()</a></code> for the full list of options and further
explanation.</p></td>
    </tr>
    <tr>
      <th>every</th>
      <td><p>A single positive integer. The number of periods to group
together.</p>
<p>For example, if the <code>period</code> was set to <code>"year"</code> with an <code>every</code>
value of 2, then the years 1970 and 1971 would be placed in the same
group.</p></td>
    </tr>
    <tr>
      <th>origin</th>
      <td><p>The reference date time value. The default when left
as <code>NULL</code> is the epoch time of <code>1970-01-01 00:00:00</code>,
<em>in the time zone of the index</em>.</p>
<p>This is generally used to define the anchor time to count from,
which is relevant when the <code>every</code> value is <code>&gt; 1</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='rolling_origin.html'>rolling_origin()</a></code></p>
<p><code><a href='https://rdrr.io/pkg/slider/man/slide.html'>slider::slide()</a></code>, <code><a href='https://rdrr.io/pkg/slider/man/slide_index.html'>slider::slide_index()</a></code>, and <code><a href='https://rdrr.io/pkg/slider/man/slide_period.html'>slider::slide_period()</a></code>,
which power these resamplers.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://vctrs.r-lib.org/'>vctrs</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘vctrs’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:tibble’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    data_frame</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:dplyr’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    data_frame</span></div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tibble.tidyverse.org/'>tibble</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://modeldata.tidymodels.org'>modeldata</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"Chicago"</span><span class='op'>)</span>

<span class='va'>index</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://vctrs.r-lib.org/reference/new_date.html'>new_date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>9</span>, <span class='fl'>13</span>, <span class='fl'>15</span>, <span class='fl'>16</span>, <span class='fl'>17</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, index <span class='op'>=</span> <span class='va'>index</span><span class='op'>)</span>
<span class='va'>df</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 10 x 2</span><span>
#&gt;        x index     
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>    
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>     1 1970-01-02
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>     2 1970-01-04
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>     3 1970-01-05
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>     4 1970-01-08
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>     5 1970-01-09
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>     6 1970-01-10
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>     7 1970-01-14
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>     8 1970-01-16
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>     9 1970-01-17
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>    10 1970-01-18</div><div class='input'>
<span class='co'># Look back two rows beyond the current row, for a total of three rows</span>
<span class='co'># in each analysis set. Each assessment set is composed of the two rows after</span>
<span class='co'># the current row.</span>
<span class='fu'>sliding_window</span><span class='op'>(</span><span class='va'>df</span>, lookback <span class='op'>=</span> <span class='fl'>2</span>, assess_stop <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; # Sliding window resampling 
#&gt; </span><span style='color: #949494;'># A tibble: 6 x 2</span><span>
#&gt;   splits        id    
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice4
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice5
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice6</div><div class='input'>
<span class='co'># Same as before, but step forward by 3 rows between each resampling slice,</span>
<span class='co'># rather than just by 1.</span>
<span class='va'>rset</span> <span class='op'>&lt;-</span> <span class='fu'>sliding_window</span><span class='op'>(</span><span class='va'>df</span>, lookback <span class='op'>=</span> <span class='fl'>2</span>, assess_stop <span class='op'>=</span> <span class='fl'>2</span>, step <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
<span class='va'>rset</span>
</div><div class='output co'>#&gt; # Sliding window resampling 
#&gt; </span><span style='color: #949494;'># A tibble: 2 x 2</span><span>
#&gt;   splits        id    
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> </span><span style='color: #949494;'>&lt;split [3/2]&gt;</span><span> Slice2</div><div class='input'>
<span class='fu'><a href='as.data.frame.rsplit.html'>analysis</a></span><span class='op'>(</span><span class='va'>rset</span><span class='op'>$</span><span class='va'>splits</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 3 x 2</span><span>
#&gt;       x index     
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>    
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>     1 1970-01-02
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>     2 1970-01-04
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>     3 1970-01-05</div><div class='input'><span class='fu'><a href='as.data.frame.rsplit.html'>analysis</a></span><span class='op'>(</span><span class='va'>rset</span><span class='op'>$</span><span class='va'>splits</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 3 x 2</span><span>
#&gt;       x index     
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>    
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>     4 1970-01-08
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>     5 1970-01-09
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>     6 1970-01-10</div><div class='input'>
<span class='co'># Now slide relative to the `index` column in `df`. This time we look back</span>
<span class='co'># 2 days from the current row's `index` value, and 2 days forward from</span>
<span class='co'># it to construct the assessment set. Note that this series is irregular,</span>
<span class='co'># so it produces different results than `sliding_window()`. Additionally,</span>
<span class='co'># note that it is entirely possible for the assessment set to contain no</span>
<span class='co'># data if you have a highly irregular series and "look forward" into a</span>
<span class='co'># date range where no data points actually exist!</span>
<span class='fu'>sliding_index</span><span class='op'>(</span><span class='va'>df</span>, <span class='va'>index</span>, lookback <span class='op'>=</span> <span class='fl'>2</span>, assess_stop <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; # Sliding index resampling 
#&gt; </span><span style='color: #949494;'># A tibble: 7 x 2</span><span>
#&gt;   splits        id    
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> </span><span style='color: #949494;'>&lt;split [2/1]&gt;</span><span> Slice1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> </span><span style='color: #949494;'>&lt;split [2/0]&gt;</span><span> Slice2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> </span><span style='color: #949494;'>&lt;split [1/2]&gt;</span><span> Slice3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> </span><span style='color: #949494;'>&lt;split [2/1]&gt;</span><span> Slice4
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> </span><span style='color: #949494;'>&lt;split [3/0]&gt;</span><span> Slice5
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> </span><span style='color: #949494;'>&lt;split [1/1]&gt;</span><span> Slice6
#&gt; </span><span style='color: #BCBCBC;'>7</span><span> </span><span style='color: #949494;'>&lt;split [2/2]&gt;</span><span> Slice7</div><div class='input'>
<span class='co'># With `sliding_period()`, we can break up our date index into less granular</span>
<span class='co'># chunks, and slide over them instead of the index directly. Here we'll use</span>
<span class='co'># the Chicago data, which contains daily data spanning 16 years, and we'll</span>
<span class='co'># break it up into rolling yearly chunks. Three years worth of data will</span>
<span class='co'># be used for the analysis set, and one years worth of data will be held out</span>
<span class='co'># for performance assessment.</span>
<span class='fu'>sliding_period</span><span class='op'>(</span>
  <span class='va'>Chicago</span>,
  <span class='va'>date</span>,
  <span class='st'>"year"</span>,
  lookback <span class='op'>=</span> <span class='fl'>2</span>,
  assess_stop <span class='op'>=</span> <span class='fl'>1</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; # Sliding period resampling 
#&gt; </span><span style='color: #949494;'># A tibble: 13 x 2</span><span>
#&gt;    splits             id     
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span>             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> </span><span style='color: #949494;'>&lt;split [1074/366]&gt;</span><span> Slice01
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice02
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice03
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice04
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> </span><span style='color: #949494;'>&lt;split [1095/366]&gt;</span><span> Slice05
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice06
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice07
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice08
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> </span><span style='color: #949494;'>&lt;split [1095/366]&gt;</span><span> Slice09
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice10
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice11
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice12
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> </span><span style='color: #949494;'>&lt;split [1095/241]&gt;</span><span> Slice13</div><div class='input'>
<span class='co'># Because `lookback = 2`, three years are required to form a "complete"</span>
<span class='co'># window of data. To allow partial windows, set `complete = FALSE`.</span>
<span class='co'># Here that first constructs two expanding windows until a complete three</span>
<span class='co'># year window can be formed, at which point we switch to a sliding window.</span>
<span class='fu'>sliding_period</span><span class='op'>(</span>
  <span class='va'>Chicago</span>,
  <span class='va'>date</span>,
  <span class='st'>"year"</span>,
  lookback <span class='op'>=</span> <span class='fl'>2</span>,
  assess_stop <span class='op'>=</span> <span class='fl'>1</span>,
  complete <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; # Sliding period resampling 
#&gt; </span><span style='color: #949494;'># A tibble: 15 x 2</span><span>
#&gt;    splits             id     
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span>             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> </span><span style='color: #949494;'>&lt;split [344/365]&gt;</span><span>  Slice01
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> </span><span style='color: #949494;'>&lt;split [709/365]&gt;</span><span>  Slice02
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> </span><span style='color: #949494;'>&lt;split [1074/366]&gt;</span><span> Slice03
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice04
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice05
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice06
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> </span><span style='color: #949494;'>&lt;split [1095/366]&gt;</span><span> Slice07
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice08
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice09
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice10
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> </span><span style='color: #949494;'>&lt;split [1095/366]&gt;</span><span> Slice11
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice12
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice13
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> </span><span style='color: #949494;'>&lt;split [1096/365]&gt;</span><span> Slice14
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> </span><span style='color: #949494;'>&lt;split [1095/241]&gt;</span><span> Slice15</div><div class='input'>
<span class='co'># Alternatively, you could break the resamples up by month. Here we'll</span>
<span class='co'># use an expanding monthly window by setting `lookback = Inf`, and each</span>
<span class='co'># assessment set will contain two months of data. To ensure that we have</span>
<span class='co'># enough data to fit our models, we'll `skip` the first 4 expanding windows.</span>
<span class='co'># Finally, to thin out the results, we'll `step` forward by 2 between</span>
<span class='co'># each resample.</span>
<span class='fu'>sliding_period</span><span class='op'>(</span>
  <span class='va'>Chicago</span>,
  <span class='va'>date</span>,
  <span class='st'>"month"</span>,
  lookback <span class='op'>=</span> <span class='cn'>Inf</span>,
  assess_stop <span class='op'>=</span> <span class='fl'>2</span>,
  skip <span class='op'>=</span> <span class='fl'>4</span>,
  step <span class='op'>=</span> <span class='fl'>2</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; # Sliding period resampling 
#&gt; </span><span style='color: #949494;'># A tibble: 91 x 2</span><span>
#&gt;    splits           id     
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> </span><span style='color: #949494;'>&lt;split [130/61]&gt;</span><span> Slice01
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> </span><span style='color: #949494;'>&lt;split [191/61]&gt;</span><span> Slice02
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> </span><span style='color: #949494;'>&lt;split [252/61]&gt;</span><span> Slice03
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> </span><span style='color: #949494;'>&lt;split [313/62]&gt;</span><span> Slice04
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> </span><span style='color: #949494;'>&lt;split [375/59]&gt;</span><span> Slice05
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> </span><span style='color: #949494;'>&lt;split [434/61]&gt;</span><span> Slice06
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> </span><span style='color: #949494;'>&lt;split [495/61]&gt;</span><span> Slice07
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> </span><span style='color: #949494;'>&lt;split [556/61]&gt;</span><span> Slice08
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> </span><span style='color: #949494;'>&lt;split [617/61]&gt;</span><span> Slice09
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> </span><span style='color: #949494;'>&lt;split [678/62]&gt;</span><span> Slice10
#&gt; </span><span style='color: #949494;'># … with 81 more rows</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>rsample is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Julia Silge, Fanny Chow, Max Kuhn, <a href='http://hadley.nz'>Hadley Wickham</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


