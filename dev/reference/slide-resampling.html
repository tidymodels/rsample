<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These resampling functions are focused on various forms of time series
resampling.
sliding_window() uses the row number when computing the resampling
indices. It is independent of any time index, but is useful with
completely regular series.
sliding_index() computes resampling indices relative to the index
column. This is often a Date or POSIXct column, but doesn't have to be.
This is useful when resampling irregular series, or for using irregular
lookback periods such as lookback = lubridate::years(1) with daily
data (where the number of days in a year may vary).
sliding_period() first breaks up the index into less granular groups
based on period, and then uses that to construct the resampling indices.
This is extremely useful for constructing rolling monthly or yearly
windows from daily data.

"><title>Time-based Resampling — slide-resampling • rsample</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.5/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Time-based Resampling — slide-resampling"><meta property="og:description" content="These resampling functions are focused on various forms of time series
resampling.
sliding_window() uses the row number when computing the resampling
indices. It is independent of any time index, but is useful with
completely regular series.
sliding_index() computes resampling indices relative to the index
column. This is often a Date or POSIXct column, but doesn't have to be.
This is useful when resampling irregular series, or for using irregular
lookback periods such as lookback = lubridate::years(1) with daily
data (where the number of days in a year may vary).
sliding_period() first breaks up the index into less granular groups
based on period, and then uses that to construct the resampling indices.
This is extremely useful for constructing rolling monthly or yearly
windows from daily data.

"><meta property="og:image" content="https://rsample.tidymodels.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="rsample.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rsample</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/rsample.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Applications/Intervals.html">Bootstrap confidence intervals</a>
    <a class="dropdown-item" href="../articles/Applications/Recipes_and_rsample.html">Recipes with rsample</a>
    <a class="dropdown-item" href="../articles/Common_Patterns.html">Common Resampling Patterns</a>
    <a class="dropdown-item" href="../articles/Working_with_rsets.html">Working with resampling sets</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-learn-more">Learn more</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-learn-more">
    <a class="external-link dropdown-item" href="https://spatialsample.tidymodels.org/">Spatial resampling</a>
    <a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/work/nested-resampling/">Nested resampling</a>
    <a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/models/time-series/">Time series analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/rsample/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Time-based Resampling</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/rsample/blob/HEAD/R/slide.R" class="external-link"><code>R/slide.R</code></a></small>
      <div class="d-none name"><code>slide-resampling.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These resampling functions are focused on various forms of <em>time series</em>
resampling.</p><ul><li><p><code>sliding_window()</code> uses the row number when computing the resampling
indices. It is independent of any time index, but is useful with
completely regular series.</p></li>
<li><p><code>sliding_index()</code> computes resampling indices relative to the <code>index</code>
column. This is often a Date or POSIXct column, but doesn't have to be.
This is useful when resampling irregular series, or for using irregular
lookback periods such as <code>lookback = lubridate::years(1)</code> with daily
data (where the number of days in a year may vary).</p></li>
<li><p><code>sliding_period()</code> first breaks up the <code>index</code> into less granular groups
based on <code>period</code>, and then uses that to construct the resampling indices.
This is extremely useful for constructing rolling monthly or yearly
windows from daily data.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sliding_window</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  lookback <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  assess_start <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  assess_stop <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  complete <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  step <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  skip <span class="op">=</span> <span class="fl">0L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sliding_index</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">index</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  lookback <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  assess_start <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  assess_stop <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  complete <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  step <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  skip <span class="op">=</span> <span class="fl">0L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sliding_period</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">index</span>,</span>
<span>  <span class="va">period</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  lookback <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  assess_start <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  assess_stop <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  complete <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  step <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  skip <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  every <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  origin <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A data frame.</p></dd>


<dt>...</dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt>lookback</dt>
<dd><p>The number of elements to look back from the current element
when computing the resampling indices of the analysis set. The current
row is always included in the analysis set.</p><ul><li><p>For <code>sliding_window()</code>, a single integer defining the number of rows to
look back from the current row.</p></li>
<li><p>For <code>sliding_index()</code>, a single object that will be subtracted from the
<code>index</code> as <code>index - lookback</code> to define the boundary of where to start
searching for rows to include in the current resample. This is often
an integer value corresponding to the number of days to look back,
or a lubridate Period object.</p></li>
<li><p>For <code>sliding_period()</code>, a single integer defining the number of groups
to look back from the current group, where the groups were defined from
breaking up the <code>index</code> according to the <code>period</code>.</p></li>
</ul><p>In all cases, <code>Inf</code> is also allowed to force an expanding window.</p></dd>


<dt>assess_start, assess_stop</dt>
<dd><p>This combination of arguments determines
how far into the future to look when constructing the assessment set.
Together they construct a range of
<code>[index + assess_start, index + assess_stop]</code> to search for rows to include
in the assessment set.</p>
<p>Generally, <code>assess_start</code> will always be <code>1</code> to indicate that the first
value to potentially include in the assessment set should start one element
after the current row, but it can be increased to a larger value to
create "gaps" between the analysis and assessment set if you are worried
about high levels of correlation in short term forecasting.</p><ul><li><p>For <code>sliding_window()</code>, these are both single integers defining the
number of rows to look forward from the current row.</p></li>
<li><p>For <code>sliding_index()</code>, these are single objects that will be added
to the <code>index</code> to compute the range to search for rows to include
in the assessment set. This is often an integer value corresponding to
the number of days to look forward, or a lubridate Period object.</p></li>
<li><p>For <code>sliding_period()</code>, these are both single integers defining the
number of groups to look forward from the current group, where the groups
were defined from breaking up the <code>index</code> according to the <code>period</code>.</p></li>
</ul></dd>


<dt>complete</dt>
<dd><p>A single logical. When using <code>lookback</code> to compute the
analysis sets, should only complete windows be considered? If set to
<code>FALSE</code>, partial windows will be used until it is possible to create
a complete window (based on <code>lookback</code>). This is a way to use an
expanding window up to a certain point, and then switch to a sliding
window.</p></dd>


<dt>step</dt>
<dd><p>A single positive integer. After computing the resampling
indices, <code>step</code> is used to thin out the results by selecting every
<code>step</code>-th result by subsetting the indices with
<code>seq(1L, n_indices, by = step)</code>. <code>step</code> is applied after <code>skip</code>.
Note that <code>step</code> is independent of any time <code>index</code> used.</p></dd>


<dt>skip</dt>
<dd><p>A single positive integer, or zero. After computing the
resampling indices, the first <code>skip</code> results will be dropped by subsetting
the indices with <code>seq(skip + 1L, n_indices)</code>. This can be especially
useful when combined with <code>lookback = Inf</code>, which creates an expanding
window starting from the first row. By skipping forward, you can drop
the first few windows that have very few data points. <code>skip</code> is
applied before <code>step</code>. Note that <code>skip</code> is independent of any time
<code>index</code> used.</p></dd>


<dt>index</dt>
<dd><p>The index to compute resampling indices relative to, specified
as a bare column name. This must be an existing column in <code>data</code>.</p><ul><li><p>For <code>sliding_index()</code>, this is commonly a date vector, but is not
required.</p></li>
<li><p>For <code>sliding_period()</code>, it is required that this is a Date or POSIXct
vector.</p></li>
</ul><p>The <code>index</code> must be an <em>increasing</em> vector, but duplicate values are
allowed. Additionally, the index cannot contain any missing values.</p></dd>


<dt>period</dt>
<dd><p>The period to group the <code>index</code> by. This is specified as a
single string, such as <code>"year"</code> or <code>"month"</code>. See the <code>.period</code> argument
of <code><a href="https://slider.r-lib.org/reference/slide_period.html" class="external-link">slider::slide_period()</a></code> for the full list of options and further
explanation.</p></dd>


<dt>every</dt>
<dd><p>A single positive integer. The number of periods to group
together.</p>
<p>For example, if the <code>period</code> was set to <code>"year"</code> with an <code>every</code>
value of 2, then the years 1970 and 1971 would be placed in the same
group.</p></dd>


<dt>origin</dt>
<dd><p>The reference date time value. The default when left
as <code>NULL</code> is the epoch time of <code>1970-01-01 00:00:00</code>,
<em>in the time zone of the index</em>.</p>
<p>This is generally used to define the anchor time to count from,
which is relevant when the <code>every</code> value is <code>&gt; 1</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="rolling_origin.html">rolling_origin()</a></code></p>
<p><code><a href="https://slider.r-lib.org/reference/slide.html" class="external-link">slider::slide()</a></code>, <code><a href="https://slider.r-lib.org/reference/slide_index.html" class="external-link">slider::slide_index()</a></code>, and <code><a href="https://slider.r-lib.org/reference/slide_period.html" class="external-link">slider::slide_period()</a></code>,
which power these resamplers.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vctrs.r-lib.org/" class="external-link">vctrs</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘vctrs’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:tibble’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     data_frame</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:dplyr’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     data_frame</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://modeldata.tidymodels.org" class="external-link">modeldata</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Chicago"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">index</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vctrs.r-lib.org/reference/new_date.html" class="external-link">new_date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">13</span>, <span class="fl">15</span>, <span class="fl">16</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, index <span class="op">=</span> <span class="va">index</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 10 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x index     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1 1970-01-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2 1970-01-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3 1970-01-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4 1970-01-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5 1970-01-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6 1970-01-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     7 1970-01-14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     8 1970-01-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     9 1970-01-17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    10 1970-01-18</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Look back two rows beyond the current row, for a total of three rows</span></span></span>
<span class="r-in"><span><span class="co"># in each analysis set. Each assessment set is composed of the two rows after</span></span></span>
<span class="r-in"><span><span class="co"># the current row.</span></span></span>
<span class="r-in"><span><span class="fu">sliding_window</span><span class="op">(</span><span class="va">df</span>, lookback <span class="op">=</span> <span class="fl">2</span>, assess_stop <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Sliding window resampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits        id    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Same as before, but step forward by 3 rows between each resampling slice,</span></span></span>
<span class="r-in"><span><span class="co"># rather than just by 1.</span></span></span>
<span class="r-in"><span><span class="va">rset</span> <span class="op">&lt;-</span> <span class="fu">sliding_window</span><span class="op">(</span><span class="va">df</span>, lookback <span class="op">=</span> <span class="fl">2</span>, assess_stop <span class="op">=</span> <span class="fl">2</span>, step <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rset</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Sliding window resampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits        id    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [3/2]&gt;</span> Slice2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="as.data.frame.rsplit.html">analysis</a></span><span class="op">(</span><span class="va">rset</span><span class="op">$</span><span class="va">splits</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       x index     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 1970-01-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 1970-01-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 1970-01-05</span>
<span class="r-in"><span><span class="fu"><a href="as.data.frame.rsplit.html">analysis</a></span><span class="op">(</span><span class="va">rset</span><span class="op">$</span><span class="va">splits</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       x index     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     4 1970-01-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     5 1970-01-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     6 1970-01-10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now slide relative to the `index` column in `df`. This time we look back</span></span></span>
<span class="r-in"><span><span class="co"># 2 days from the current row's `index` value, and 2 days forward from</span></span></span>
<span class="r-in"><span><span class="co"># it to construct the assessment set. Note that this series is irregular,</span></span></span>
<span class="r-in"><span><span class="co"># so it produces different results than `sliding_window()`. Additionally,</span></span></span>
<span class="r-in"><span><span class="co"># note that it is entirely possible for the assessment set to contain no</span></span></span>
<span class="r-in"><span><span class="co"># data if you have a highly irregular series and "look forward" into a</span></span></span>
<span class="r-in"><span><span class="co"># date range where no data points actually exist!</span></span></span>
<span class="r-in"><span><span class="fu">sliding_index</span><span class="op">(</span><span class="va">df</span>, <span class="va">index</span>, lookback <span class="op">=</span> <span class="fl">2</span>, assess_stop <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Sliding index resampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 7 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits        id    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [2/1]&gt;</span> Slice1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [2/0]&gt;</span> Slice2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [1/2]&gt;</span> Slice3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [2/1]&gt;</span> Slice4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [3/0]&gt;</span> Slice5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> <span style="color: #949494;">&lt;split [1/1]&gt;</span> Slice6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> <span style="color: #949494;">&lt;split [2/2]&gt;</span> Slice7</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With `sliding_period()`, we can break up our date index into less granular</span></span></span>
<span class="r-in"><span><span class="co"># chunks, and slide over them instead of the index directly. Here we'll use</span></span></span>
<span class="r-in"><span><span class="co"># the Chicago data, which contains daily data spanning 16 years, and we'll</span></span></span>
<span class="r-in"><span><span class="co"># break it up into rolling yearly chunks. Three years worth of data will</span></span></span>
<span class="r-in"><span><span class="co"># be used for the analysis set, and one years worth of data will be held out</span></span></span>
<span class="r-in"><span><span class="co"># for performance assessment.</span></span></span>
<span class="r-in"><span><span class="fu">sliding_period</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">Chicago</span>,</span></span>
<span class="r-in"><span>  <span class="va">date</span>,</span></span>
<span class="r-in"><span>  <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  lookback <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  assess_stop <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Sliding period resampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 13 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    splits             id     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">&lt;split [1074/366]&gt;</span> Slice01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">&lt;split [1095/366]&gt;</span> Slice05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">&lt;split [1095/366]&gt;</span> Slice09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> <span style="color: #949494;">&lt;split [1095/241]&gt;</span> Slice13</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Because `lookback = 2`, three years are required to form a "complete"</span></span></span>
<span class="r-in"><span><span class="co"># window of data. To allow partial windows, set `complete = FALSE`.</span></span></span>
<span class="r-in"><span><span class="co"># Here that first constructs two expanding windows until a complete three</span></span></span>
<span class="r-in"><span><span class="co"># year window can be formed, at which point we switch to a sliding window.</span></span></span>
<span class="r-in"><span><span class="fu">sliding_period</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">Chicago</span>,</span></span>
<span class="r-in"><span>  <span class="va">date</span>,</span></span>
<span class="r-in"><span>  <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  lookback <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  assess_stop <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  complete <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Sliding period resampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 15 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    splits             id     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">&lt;split [344/365]&gt;</span>  Slice01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">&lt;split [709/365]&gt;</span>  Slice02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">&lt;split [1074/366]&gt;</span> Slice03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">&lt;split [1095/366]&gt;</span> Slice07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> <span style="color: #949494;">&lt;split [1095/366]&gt;</span> Slice11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> <span style="color: #949494;">&lt;split [1096/365]&gt;</span> Slice14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> <span style="color: #949494;">&lt;split [1095/241]&gt;</span> Slice15</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternatively, you could break the resamples up by month. Here we'll</span></span></span>
<span class="r-in"><span><span class="co"># use an expanding monthly window by setting `lookback = Inf`, and each</span></span></span>
<span class="r-in"><span><span class="co"># assessment set will contain two months of data. To ensure that we have</span></span></span>
<span class="r-in"><span><span class="co"># enough data to fit our models, we'll `skip` the first 4 expanding windows.</span></span></span>
<span class="r-in"><span><span class="co"># Finally, to thin out the results, we'll `step` forward by 2 between</span></span></span>
<span class="r-in"><span><span class="co"># each resample.</span></span></span>
<span class="r-in"><span><span class="fu">sliding_period</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">Chicago</span>,</span></span>
<span class="r-in"><span>  <span class="va">date</span>,</span></span>
<span class="r-in"><span>  <span class="st">"month"</span>,</span></span>
<span class="r-in"><span>  lookback <span class="op">=</span> <span class="cn">Inf</span>,</span></span>
<span class="r-in"><span>  assess_stop <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  skip <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  step <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Sliding period resampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 91 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    splits           id     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">&lt;split [130/61]&gt;</span> Slice01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">&lt;split [191/61]&gt;</span> Slice02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">&lt;split [252/61]&gt;</span> Slice03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">&lt;split [313/62]&gt;</span> Slice04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">&lt;split [375/59]&gt;</span> Slice05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">&lt;split [434/61]&gt;</span> Slice06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">&lt;split [495/61]&gt;</span> Slice07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">&lt;split [556/61]&gt;</span> Slice08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">&lt;split [617/61]&gt;</span> Slice09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">&lt;split [678/62]&gt;</span> Slice10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 81 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://frick.ws" class="external-link">Hannah Frick</a>, Fanny Chow, <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, Michael Mahoney, <a href="https://juliasilge.com/" class="external-link">Julia Silge</a>, <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

