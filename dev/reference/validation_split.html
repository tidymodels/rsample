<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a Validation Set — validation_split • rsample</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a Validation Set — validation_split"><meta name="description" content="
This function is deprecated because it's part of an approach to constructing
a training, validation, and testing set by doing a sequence of two binary
splits: testing / not-testing (with initial_split() or one of its variants)
and then not-testing split into training/validation with validation_split().
Instead, now use initial_validation_split() or one if its variants to
construct the three sets via one 3-way split.
validation_split() takes a single random sample (without replacement) of
the original data set to be used for analysis. All other data points are
added to the assessment set (to be used as the validation set).
validation_time_split() does the same, but takes the first prop samples
for training, instead of a random selection.
group_validation_split() creates splits of the data based
on some grouping variable, so that all data in a &quot;group&quot; is assigned to
the same split.
Note that the input data to validation_split(), validation_time_split(),
and group_validation_split() should not contain the testing data. To
create a three-way split directly of the entire data set, use
initial_validation_split()."><meta property="og:description" content="
This function is deprecated because it's part of an approach to constructing
a training, validation, and testing set by doing a sequence of two binary
splits: testing / not-testing (with initial_split() or one of its variants)
and then not-testing split into training/validation with validation_split().
Instead, now use initial_validation_split() or one if its variants to
construct the three sets via one 3-way split.
validation_split() takes a single random sample (without replacement) of
the original data set to be used for analysis. All other data points are
added to the assessment set (to be used as the validation set).
validation_time_split() does the same, but takes the first prop samples
for training, instead of a random selection.
group_validation_split() creates splits of the data based
on some grouping variable, so that all data in a &quot;group&quot; is assigned to
the same split.
Note that the input data to validation_split(), validation_time_split(),
and group_validation_split() should not contain the testing data. To
create a three-way split directly of the entire data set, use
initial_validation_split()."><meta property="og:image" content="https://rsample.tidymodels.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-hide-below="1200" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="rsample.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rsample</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.1.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rsample.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Common_Patterns.html">Common Resampling Patterns</a></li>
    <li><a class="dropdown-item" href="../articles/Applications/Intervals.html">Bootstrap confidence intervals</a></li>
    <li><a class="dropdown-item" href="../articles/Applications/Recipes_and_rsample.html">Recipes with rsample</a></li>
    <li><a class="dropdown-item" href="../articles/Working_with_rsets.html">Working with resampling sets</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-learn-more" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Learn more</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-learn-more"><li><a class="external-link dropdown-item" href="https://spatialsample.tidymodels.org/">Spatial resampling</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/work/nested-resampling/">Nested resampling</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/models/time-series/">Time series analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidymodels/rsample/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a Validation Set</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/rsample/blob/main/R/validation_split.R" class="external-link"><code>R/validation_split.R</code></a></small>
      <div class="d-none name"><code>validation_split.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
<p>This function is deprecated because it's part of an approach to constructing
a training, validation, and testing set by doing a sequence of two binary
splits: testing / not-testing (with <code><a href="initial_split.html">initial_split()</a></code> or one of its variants)
and then not-testing split into training/validation with <code>validation_split()</code>.
Instead, now use <code><a href="initial_validation_split.html">initial_validation_split()</a></code> or one if its variants to
construct the three sets via one 3-way split.</p>
<p><code>validation_split()</code> takes a single random sample (without replacement) of
the original data set to be used for analysis. All other data points are
added to the assessment set (to be used as the validation set).
<code>validation_time_split()</code> does the same, but takes the <em>first</em> <code>prop</code> samples
for training, instead of a random selection.
<code>group_validation_split()</code> creates splits of the data based
on some grouping variable, so that all data in a "group" is assigned to
the same split.</p>
<p>Note that the input <code>data</code> to <code>validation_split()</code>, <code>validation_time_split()</code>,
and <code>group_validation_split()</code> should <em>not</em> contain the testing data. To
create a three-way split directly of the entire data set, use
<code><a href="initial_validation_split.html">initial_validation_split()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">validation_split</span><span class="op">(</span><span class="va">data</span>, prop <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, strata <span class="op">=</span> <span class="cn">NULL</span>, breaks <span class="op">=</span> <span class="fl">4</span>, pool <span class="op">=</span> <span class="fl">0.1</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">validation_time_split</span><span class="op">(</span><span class="va">data</span>, prop <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, lag <span class="op">=</span> <span class="fl">0</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">group_validation_split</span><span class="op">(</span><span class="va">data</span>, <span class="va">group</span>, prop <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">4</span>, <span class="va">...</span>, strata <span class="op">=</span> <span class="cn">NULL</span>, pool <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame.</p></dd>


<dt id="arg-prop">prop<a class="anchor" aria-label="anchor" href="#arg-prop"></a></dt>
<dd><p>The proportion of data to be retained for modeling/analysis.</p></dd>


<dt id="arg-strata">strata<a class="anchor" aria-label="anchor" href="#arg-strata"></a></dt>
<dd><p>A variable in <code>data</code> (single character or name) used to conduct
stratified sampling. When not <code>NULL</code>, each resample is created within the
stratification variable. Numeric <code>strata</code> are binned into quartiles.</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>A single number giving the number of bins desired to stratify a
numeric stratification variable.</p></dd>


<dt id="arg-pool">pool<a class="anchor" aria-label="anchor" href="#arg-pool"></a></dt>
<dd><p>A proportion of data used to determine if a particular group is
too small and should be pooled into another group. We do not recommend
decreasing this argument below its default of 0.1 because of the dangers
of stratifying groups that are too small.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-lag">lag<a class="anchor" aria-label="anchor" href="#arg-lag"></a></dt>
<dd><p>A value to include a lag between the assessment and analysis set.
This is useful if lagged predictors will be used during training and
testing.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>A variable in <code>data</code> (single character or name) used for
grouping observations with the same value to either the analysis or
assessment set within a fold.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An tibble with classes <code>validation_split</code>, <code>rset</code>, <code>tbl_df</code>, <code>tbl</code>,
and <code>data.frame</code>. The results include a column for the data split objects
and a column called <code>id</code> that has a character string with the resample
identifier.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>With a <code>strata</code> argument, the random sampling is conducted
<em>within the stratification variable</em>. This can help ensure that the
resamples have equivalent proportions as the original data set. For
a categorical variable, sampling is conducted separately within each class.
For a numeric stratification variable, <code>strata</code> is binned into quartiles,
which are then used to stratify. Strata below 10% of the total are
pooled together; see <code><a href="make_strata.html">make_strata()</a></code> for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="initial_validation_split.html">initial_validation_split()</a></code>, <code><a href="initial_validation_split.html">group_initial_validation_split()</a></code>,
<code><a href="validation_set.html">validation_set()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">cars_split</span> <span class="op">&lt;-</span> <span class="fu"><a href="initial_split.html">initial_split</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cars_not_testing</span> <span class="op">&lt;-</span> <span class="fu"><a href="initial_split.html">training</a></span><span class="op">(</span><span class="va">cars_split</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">validation_split</span><span class="op">(</span><span class="va">cars_not_testing</span>, prop <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`validation_split()` was deprecated in rsample 1.2.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use `initial_validation_split()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Validation Set Split (0.9/0.1)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits         id        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [21/3]&gt;</span> validation</span>
<span class="r-in"><span><span class="fu">group_validation_split</span><span class="op">(</span><span class="va">cars_not_testing</span>, <span class="va">cyl</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`group_validation_split()` was deprecated in rsample 1.2.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use `group_initial_validation_split()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Group Validation Set Split (0.75/0.25)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits         id        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [19/5]&gt;</span> validation</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">drinks</span>, package <span class="op">=</span> <span class="st">"modeldata"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">validation_time_split</span><span class="op">(</span><span class="va">drinks</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">200</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`validation_time_split()` was deprecated in rsample 1.2.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use `initial_validation_time_split()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Validation Set Split (0.75/0.25)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits           id        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [150/50]&gt;</span> validation</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternative</span></span></span>
<span class="r-in"><span><span class="va">cars_split_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="initial_validation_split.html">initial_validation_split</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="validation_set.html">validation_set</a></span><span class="op">(</span><span class="va">cars_split_3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   splits         id        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [19/6]&gt;</span> validation</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://frick.ws" class="external-link">Hannah Frick</a>, Fanny Chow, <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, Michael Mahoney, <a href="https://juliasilge.com/" class="external-link">Julia Silge</a>, <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

